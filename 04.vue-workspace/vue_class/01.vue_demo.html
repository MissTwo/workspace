<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Vue_demo</title>
    <style>
        .box1 {
            width: 300px;
            height: 300px;
            background-color: red;
        }

        .box2 {
            width: 200px;
            height: 200px;
            background-color: green;
        }

        .box3 {
            width: 150px;
            height: 150px;
            background-color: pink;
        }

        ul > li {
            float: left;
            list-style: none;
            height: 20px;
            border: 1px solid #faf;
            margin: 0 10px;
            text-align: center;
            font-size: 15px;
            padding: 10px;
            color: aqua
        }

        ul > li.active {
            background: #faf;
        }

        ul > li.disabled {
            background: rgb(194, 194, 194);
        }

    </style>
    <script src="./js/vue.js"></script>
</head>
<body>
<div id="app">
    <header>{{title}}</header>
    <form action="#">
        <!--        v-once所在节点在初次动态渲染后，就视为静态内容了-->
        <h5 v-once>数据的双向绑定</h5>
        <label>
            用户名：<input type="text" v-model="account">
        </label>
        <label>
            密码：<input type="password" v-model="password">
        </label>
        <button type="button" v-on:mouseenter="showInfo($event,66)">点我传参</button>
        <button type="submit" @click="printf">提交</button>
    </form>
    <!--    事件冒泡-->
    <div class="box1" @click="showInfo3">
        <div class="box2" @click.stop="showInfo2">
            <div class="box3" @click.stop="showInfo1">
                <a href="#">点我阻止冒泡并且阻止跳转的默认行为</a>
                <a href="https://cn.vuejs.org/">点我冒泡并且跳转</a>
            </div>
        </div>
    </div>
    <table>
        <thead>
        <tr>
            <th>编号</th>
            <th>学号</th>
            <th>姓名</th>
            <th>性别</th>
            <th>电话号码</th>
            <th>宿舍楼</th>
            <th>寝室号</th>
        </tr>
        </thead>
        <tbody>
        <tr v-for="s in students " :key=s.id>
            <td>{{s.id}}</td>
            <td>{{s.studentID}}</td>
            <td>{{s.name}}</td>
            <td>{{s.gender}}</td>
            <td>{{s.phoneNumber}}</td>
            <td>{{s.dormitory}}</td>
            <td>{{s.dormitoryNumber}}</td>
        </tr>
        </tbody>
    </table>
<!--方法一-->
<!--    <ul @click="change">-->
<!--        <li :class="pno==1?'disabled':''">上一页</li>-->
<!--        <li v-for="i of count" :key="i" :class="pno==i?'active':''">{{i}}</li>-->
<!--        <li :class="pno==count?'disabled':''">下一页</li>-->
<!--    </ul>-->
<!--方法二-->
    <ul>
        <li v-for="i of count" :key="i"  :class="{active:pno==i}"  @click="pno=i">{{i}}</li>
    </ul>
</div>

<script src="js/mock.js"></script>
<script>
    // 模拟数据
    let studentsData = Mock.mock({
        "studentManagement|10": [
            {
                "id|+1": 1,
                "studentID|+1": 20220000,
                "name": "@cname",
                "gender|1": ["男", "女"],
                "phoneNumber": /^1\d{10}/,
                "dormitory|1": ["第一宿舍楼", "第二宿舍楼", "第三宿舍楼", "第四宿舍楼", "第五宿舍楼"],
                "dormitoryNumber|100-599": 100
            }
        ]
    });
    let students = studentsData.studentManagement;
    // 阻止 vue 在启动时生成生产提示
    Vue.config.productionTip = false;
    // 关闭警告与报错信息，上线时使用
    // Vue.config.silent=true

    // el与data的两种写法
    // todo:第一种
    // const vm = new Vue({
    //     el: '#app',
    // 对象式
    //     data:{
    //         title:"欢迎来到Vue学习",
    //         account:"",
    //         password:"",
    //     }
    // });
    // todo：第二种
    const vm = new Vue({
        // 函数式
        data() {
            return {
                title: "欢迎来到Vue学习",
                account: "",
                password: "",
                students,
                count: 5,
                pno: 1,
                isTrue:0
            };
        },
        methods: {
            printf() {
                console.log('获取点击成功了！');
            },
            // event代表触发的这个事件
            showInfo(event, number) {
                console.log(event, number);
            },
            showInfo1() {
                alert("我是box1");
            },
            showInfo2() {
                alert("我是box2,haha");
            },
            showInfo3() {
                alert("我是box3,lala");
            },
            change(e) {
                if (e.target.nodeName === "LI") {
                    if (e.target.innerHTML === "上一页") {
                        if (this.pno > 1) {
                            this.pno--;
                        }
                    } else if (e.target.innerHTML === "下一页") {
                        if (this.pno < this.count) {
                            this.pno++;
                        }
                    } else {
                        this.pno = parseInt(e.target.innerHTML);
                    }
                }
            },

        }
    });
    vm.$mount('#app');

</script>
</body>
</html>