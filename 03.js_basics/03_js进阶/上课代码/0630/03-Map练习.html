<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<table id="table">
    <thead>
    <tr>
        <th><input type="checkbox" name="cb_select_all"/></th>
        <th>序号</th>
        <th>书名</th>
        <th>日期</th>
        <th>单价</th>
        <th>数量</th>
        <th>操作</th>
    </tr>
    </thead>
    <tbody></tbody>
</table>
<script type="text/javascript">
    // 数据源
    let list = [
        {
            "id": 1,
            "name": ")",
            "create_date": "1993-07-11",
            "price": 133.76,
            "count": 4
        },
        {
            "id": 2,
            "name": "[",
            "create_date": "1977-12-10",
            "price": 51.67,
            "count": 7
        },
        {
            "id": 3,
            "name": "$",
            "create_date": "1997-06-26",
            "price": 49.43,
            "count": 6
        },
        {
            "id": 4,
            "name": "KD7b",
            "create_date": "2016-08-31",
            "price": 94.69,
            "count": 3
        },
        {
            "id": 5,
            "name": "t^",
            "create_date": "2017-06-10",
            "price": 85.77,
            "count": 6
        },
        {
            "id": 6,
            "name": "US",
            "create_date": "2018-03-24",
            "price": 72.41,
            "count": 7
        },
        {
            "id": 7,
            "name": "wK77",
            "create_date": "1983-12-03",
            "price": 44.32,
            "count": 5
        },
        {
            "id": 8,
            "name": "#*",
            "create_date": "1996-04-30",
            "price": 198.97,
            "count": 2
        },
        {
            "id": 9,
            "name": "Jg[",
            "create_date": "2015-04-01",
            "price": 44.88,
            "count": 9
        },
        {
            "id": 10,
            "name": "@Tn*C",
            "create_date": "2004-07-16",
            "price": 49.64,
            "count": 4
        }
    ]

    let booksMap = new Map();
    list.forEach(book => booksMap.set(book.id, book));

    let table = document.getElementById("table");
    // 获取tbody
    let tbody = table.querySelector("tbody");
    let map = new Map();
    booksMap.forEach((item, index) => {
        // 创建行
        let tr = `
                <tr data-index="${item.id}">
                    <td><input type="checkbox" name="cb_select" /></td>
                    <td>${item.id}</td>
                    <td>${item.name}</td>
                    <td>${item.create_date}</td>
                    <td>${item.price}</td>
                    <td>
                        <button type="button">-</button>
                        <span>${item.count}</span>
                        <button type="button">+</button>
                    </td>
                    <td><button type="button">编辑</button><button type="button" onclick="do_del(${item.id})">删除</button></td>
                </tr>
                `;
        tbody.insertAdjacentHTML("beforeend", tr);
    })

    Array.from(tbody.children).forEach(item => map.set(item.getAttribute("data-index"), item));
    console.log(map)
    function do_del(id) {
        booksMap.delete(id);
        map.get(id + "").remove();
    }
</script>
</body>
</html>